<Window x:Class="Facturon.App.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:views="clr-namespace:Facturon.App.Views"
        xmlns:viewModels="clr-namespace:Facturon.App.ViewModels"
        xmlns:behaviors="clr-namespace:Facturon.App.Views.Behaviors"
        Title="Facturon"
        Height="450"
        Width="800"
        behaviors:LoadedBehavior.Command="{Binding LoadedCommand}">
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
        <DataTemplate DataType="{x:Type viewModels:InvoiceListViewModel}">
            <views:InvoiceListView />
        </DataTemplate>
    </Window.Resources>
    <Window.InputBindings>
        <KeyBinding Key="Enter" Command="{Binding OpenInvoiceCommand}"/>
        <KeyBinding Key="Insert" Command="{Binding NewInvoiceCommand}"/>
        <KeyBinding Key="Delete" Command="{Binding DeleteInvoiceCommand}"/>
        <KeyBinding Key="Escape" Command="{Binding ExitCommand}"/>
    </Window.InputBindings>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*" />
            <ColumnDefinition Width="3*" />
        </Grid.ColumnDefinitions>
        <views:InvoiceListView x:Name="InvoiceListHost" DataContext="{Binding InvoiceList}" />
        <views:InvoiceDetailView Grid.Column="1"
                                DataContext="{Binding InvoiceDetail}"
                                Visibility="{Binding DataContext.DetailVisible, Converter={StaticResource BooleanToVisibilityConverter}, RelativeSource={RelativeSource AncestorType=Window}}" />
    </Grid>
</Window>
